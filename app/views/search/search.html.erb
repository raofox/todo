<h1>Search Results</h1>

<% if @todolist %>
  <ul class="search_results">
    <% @todolist.each do |todolist| %>
      <li>
        <h3>
          <%= link_to todolist.try(:highlight).try(:title) ?
              todolist.highlight.title[0].html_safe : todolist.title,
              controller: "todo_lists", action: "show", id: todolist._id %>
        </h3>
        <% if todolist.try(:highlight).try(:description) %>
          <% todolist.highlight.description.each do |snippet| %>
          <p><%= snippet.html_safe %>...</p>
        <% end %>
      <% end %>
    </li>
  <% end %>
</ul>
<% else %>
  <p>Your search did not match any documents.</p>
<% end %>
